<form #userForm="ngForm" (ngSubmit)="register()" class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4 sm:p-6 lg:p-8">

    <!-- Main Container -->
    <div class="w-full max-w-6xl flex flex-col lg:flex-row items-center justify-center gap-6 lg:gap-12 xl:gap-16">

        <!-- Background Image Section - Hidden on mobile, visible on medium+ -->
        <div class="hidden md:flex md:w-1/2 lg:w-3/5 xl:w-2/3 h-64 md:h-80 lg:h-96 xl:h-[500px] items-center justify-center" style="background-image: url('register.svg'); background-repeat: no-repeat; background-size: contain; background-color: transparent; background-position: center;">
        </div>

        <!-- Form Card -->
        <div class="w-full max-w-md lg:max-w-lg xl:max-w-md bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 ease-in-out overflow-hidden">

            <!-- Form Header -->
            <div class="text-center pt-8 pb-4 px-6 bg-gradient-to-r from-blue-600 to-indigo-700 text-white">
                <div class="flex justify-center mb-4">
                    <div class="relative">
                        <img [src]="profilePicture" alt="Profile Picture" class="rounded-full bg-blue-200 object-cover h-20 w-20 sm:h-24 sm:w-24 border-4 border-white shadow-lg">
                        <div class="absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1 border-2 border-white">
                            <mat-icon class="text-white text-sm sm:text-base" style="font-size: 16px; width: 16px; height: 16px;">photo_camera</mat-icon>
                        </div>
                    </div>
                </div>
                <h1 class="text-2xl sm:text-3xl font-bold mb-2">Create Account</h1>
                <p class="text-blue-100 text-sm sm:text-base opacity-90">Join our community today</p>
            </div>

            <!-- Form Content -->
            <div class="p-6 sm:p-8 space-y-4 sm:space-y-6">

                <!-- Email Field -->
                <mat-form-field class="w-full" appearance="outline">
                    <mat-label class="text-gray-600">Email Address</mat-label>
                    <input matInput required name="email" [(ngModel)]="email" #emailModel="ngModel" placeholder="Enter your email" type="email" class="mt-1" aria-describedby="email-error" />
                    <mat-icon matPrefix class="text-gray-400 mr-2">email</mat-icon>
                    @if(emailModel.errors?.['required'] && emailModel.touched){
                    <mat-error id="email-error" class="flex items-center gap-1">
                        <mat-icon class="text-sm">error</mat-icon>
                        Email is required
                    </mat-error>
                    }
                </mat-form-field>

                <!-- Username Field -->
                <mat-form-field class="w-full" appearance="outline">
                    <mat-label class="text-gray-600">Username</mat-label>
                    <input matInput required name="userName" [(ngModel)]="userName" #userNameModel="ngModel" placeholder="Choose a username" class="mt-1" aria-describedby="username-error" />
                    <mat-icon matPrefix class="text-gray-400 mr-2">person</mat-icon>
                    @if(userNameModel.errors?.['required'] && userNameModel.touched){
                    <mat-error id="username-error" class="flex items-center gap-1">
                        <mat-icon class="text-sm">error</mat-icon>
                        Username is required
                    </mat-error>
                    }
                </mat-form-field>

                <!-- Full Name Field -->
                <mat-form-field class="w-full" appearance="outline">
                    <mat-label class="text-gray-600">Full Name</mat-label>
                    <input matInput name="fullName" required [(ngModel)]="fullName" #fullNameModel="ngModel" placeholder="Enter your full name" class="mt-1" aria-describedby="fullname-error" />
                    <mat-icon matPrefix class="text-gray-400 mr-2">badge</mat-icon>
                    @if (fullNameModel.errors?.['required'] && fullNameModel.touched) {
                    <mat-error id="fullname-error" class="flex items-center gap-1">
                        <mat-icon class="text-sm">error</mat-icon>
                        Full name is required
                    </mat-error>
                    }
                </mat-form-field>

                <!-- Password Field -->
                <mat-form-field class="w-full" appearance="outline">
                    <mat-label class="text-gray-600">Password</mat-label>
                    <input matInput name="password" required #passwordModel="ngModel" [(ngModel)]="password" placeholder="Create a password" [type]="hide() ? 'text' : 'password'" class="mt-1" aria-describedby="password-error" />
                    <mat-icon matPrefix class="text-gray-400 mr-2">lock</mat-icon>
                    <button type="button" mat-icon-button matSuffix (click)="togglePassword($event)" [attr.aria-label]="hide() ? 'Hide password' : 'Show password'" class="text-gray-400 hover:text-gray-600 transition-colors">
            <mat-icon>{{ hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button> @if (passwordModel.errors?.['required'] && passwordModel.touched) {
                    <mat-error id="password-error" class="flex items-center gap-1">
                        <mat-icon class="text-sm">error</mat-icon>
                        Password is required
                    </mat-error>
                    }
                </mat-form-field>

                <!-- File Upload -->
                <input hidden (change)="onFileSelected($event)" type="file" #pic placeholder="Profile Image" accept="image/*" aria-describedby="upload-help" />
                <button (click)="pic.click()" type="button" class="w-full flex items-center gap-3 justify-center mb-2 bg-gradient-to-r from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800 text-white rounded-xl p-3 sm:p-3.5 transition-all duration-200 ease-in-out transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl min-h-[44px]">
          <mat-icon class="text-xl">add_a_photo</mat-icon>
          <span class="font-medium text-sm sm:text-base">Upload Profile Image</span>
        </button>
                <p id="upload-help" class="text-xs text-gray-500 text-center mb-4">Supported formats: JPG, PNG, WebP</p>

                <!-- Submit Button -->
                <button type="submit" [disabled]="!userForm.valid" class="w-full mb-2 bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-xl p-3 sm:p-3.5 font-semibold text-sm sm:text-base transition-all duration-200 ease-in-out transform hover:scale-[1.02] active:scale-[0.98] disabled:scale-100 disabled:cursor-not-allowed shadow-lg hover:shadow-xl min-h-[44px]"
                    aria-describedby="submit-help">
          Create Account
        </button>
                <p id="submit-help" class="text-xs text-gray-500 text-center">
                    @if(!userForm.valid) { Please fill all required fields to continue } @else { Click to create your account }
                </p>

            </div>

            <!-- Footer -->
            <div class="bg-gray-50 px-6 py-4 border-t border-gray-200">
                <p class="text-center text-xs sm:text-sm text-gray-600">
                    Already have an account?
                    <a [routerLink]="'/login'" class="text-blue-600 hover:text-blue-800 font-medium transition-colors ml-1">Sign In</a>
                </p>
            </div>
        </div>
    </div>
</form>

<!-- <form #userForm="ngForm"
(ngSubmit)="register()"
 class="md:flex justify-center px-20 bg-white gap-10">
    <div class="h-auto w-3/5"  style="background-image: url('register.svg'); background-repeat: no-repeat; background-size: contain; background-color: white; background-position: bottom;"></div>
    <div class="bg-white my-10 rounded w-1/4 flex flex-col gap-3 shadow-sm drop-shadow-md"> 
        <div class="text-center">

            <div class="flex justify-center">
                <img [src]="profilePicture" alt="Profile Picture" class="rounded-full bg-blue-800 object-cover h-24 w-24">
            </div>
            <div class="text-2xl my-2 font-medium">Register</div>
        </div>
        <div class="w-full px-4">
            <mat-form-field class="w-full"  appearance="fill">
                <mat-label>Email</mat-label>
                <input matInput required name="email" [(ngModel)]="email" #emailModel="ngModel" placeholder="Email" />
                @if(emailModel.errors?.['required']){
                    <mat-error>Email is required.</mat-error>
                }
            </mat-form-field>

              <mat-form-field class="w-full"  appearance="fill">
                <mat-label>Username</mat-label>
                <input matInput required name="userName" [(ngModel)]="userName" #userNameModel="ngModel" placeholder="Username" />
                @if(userNameModel.errors?.['required']){
                    <mat-error>Username is required.</mat-error>
                }
            </mat-form-field>

            <mat-form-field class="w-full"  appearance="fill">
                <mat-label>Full Name</mat-label>
                <input matInput name="fullName" required [(ngModel)]="fullName" #fullNameModel="ngModel" placeholder="Full Name" />
                @if (fullNameModel.errors?.['required'])
                {
                    <mat-error>Full name is required.</mat-error>

                }
            </mat-form-field>
            
            <mat-form-field class="w-full"  appearance="fill">
                <mat-label>Password</mat-label>
                <input matInput name="password" required #passwordModel="ngModel" [(ngModel)]="password" placeholder="Password" [type]="hide() ? 'text' : 'password'"/>
                <mat-icon (click)="togglePassword($event)"  matSuffix>{{ hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
                  @if (passwordModel.errors?.['required'])
                {
                    <mat-error>Password is required.</mat-error>

                }
            </mat-form-field>

            <input hidden (change)="onFileSelected($event)" type="file" #pic placeholder="Profile Image"/>
            <button  (click)="pic.click()" type="button" class="w-full flex items-center gap-2 justify-center mb-5 bg-green-900 text-white rounded-md p-2">
                <mat-icon>add_a_photo</mat-icon>
                <span>Upload Image</span>
            </button>

            <button type="submit" [disabled]="!userForm.valid"
             class="w-full mb-5 bg-blue-900 text-white rounded-md p-2 disabled:opacity-30">Register</button>
        </div> 
    </div>
</form> -->